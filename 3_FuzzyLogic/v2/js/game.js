var _0x186f=['ffff','You\x20Lost\x20:(','play','inObstacle','pointInObstacle','indexOf','which','red','initObstacles','inSpawn','dests','inSpawnArea','drawPath','path','goToPacman','pacman','goTo','initDestinations','goToRandom','setBehavior','chooseDestination','behavior','Hunting','behaveHunting','Defense','behaveDefense','behaveShy','behaveRandom','followPath','kill','spawnMove','spawning','spawn','shift','pink','blue','requestAnimationFrame','./assets/beginning.wav','onended','#000','font','fillText','Click\x20To\x20Begin','init','black','getElementById','ctx','canvas','width','height','color','draw','update','sprite','onclick','onkeydown','onload','onmousedown','target','green','heuristic','costSoFar','parent','fillStyle','fillRect','size','drawList','length','getDistance','sqrt','pow','getNeighbours','floor','push','orange','min','findPath','splice','totalCost','reverse','gray','list','drawAll','delete','frames','pauseIndex','ticksPerFrame','imageSrc','image','src','fullHeight','frameIndex','tickCount','pause','drawImage','scaledWidth','stop','resume','all','Bhvr','innerHTML','alert','display','obstacles','pellets','direction','stepsPerNode','dieSound','./assets/pac_death.wav','eatSound','./assets/chomp.wav','chewCountDown','deathSprite','dead','spriteFrames','./assets/sprites.png','nextDirection','changeDirection','move','eat','win','won','You\x20Won!','die','dying'];(function(_0x2699a9,_0x501e82){var _0x5b6c40=function(_0xa3de42){while(--_0xa3de42){_0x2699a9['push'](_0x2699a9['shift']());}};_0x5b6c40(++_0x501e82);}(_0x186f,0xa8));var _0x27ca=function(_0x3604de,_0x59ca50){_0x3604de=_0x3604de-0x0;var _0x3380ad=_0x186f[_0x3604de];return _0x3380ad;};class Canvas{static[_0x27ca('0x0')](_0xc7bf3d,_0x4d930d,_0x417890,_0x198deb=_0x27ca('0x1')){Canvas['canvas']=document[_0x27ca('0x2')](_0xc7bf3d);Canvas[_0x27ca('0x3')]=Canvas[_0x27ca('0x4')]['getContext']('2d');Canvas[_0x27ca('0x5')]=_0x4d930d;Canvas[_0x27ca('0x6')]=_0x417890;Canvas[_0x27ca('0x7')]=_0x198deb;Canvas[_0x27ca('0x4')][_0x27ca('0x5')]=Canvas[_0x27ca('0x5')];Canvas['canvas']['height']=Canvas[_0x27ca('0x6')];Canvas[_0x27ca('0x8')]();}static[_0x27ca('0x9')](){Canvas[_0x27ca('0xa')][_0x27ca('0x9')]();Canvas['sprite'][_0x27ca('0x8')]();}static['draw'](){Canvas[_0x27ca('0xa')]=new Sprite({'image':'./assets/sprites.png','x':0x0,'y':0x0,'ticksPerFrame':0x0,'frames':[{'x':0x2a8/0x3,'y':0x0,'width':0x2a8/0x3,'height':0xf8,'scaledWidth':Canvas[_0x27ca('0x5')],'scaledHeight':Canvas[_0x27ca('0x6')]}]});}static[_0x27ca('0xb')](_0x5e70a4){Canvas[_0x27ca('0x4')][_0x27ca('0xb')]=_0x5e70a4;}static[_0x27ca('0xc')](_0xf3917){let _0xdc42c3;window[_0x27ca('0xd')]=()=>{document[_0x27ca('0xe')]=_0x29ecb3=>{_0xdc42c3=_0x29ecb3[_0x27ca('0xf')];};document[_0x27ca('0xc')]=_0x36d8a9=>{_0xf3917(_0x36d8a9);};};}}class Node{constructor(_0xaa435d,_0x188060,_0x506e63=_0x27ca('0x10')){this['x']=_0xaa435d;this['y']=_0x188060;this['color']=_0x506e63;this[_0x27ca('0x11')]=null;this[_0x27ca('0x12')]=0x0;this['totalCost']=null;this[_0x27ca('0x13')]=null;}['draw'](){Canvas[_0x27ca('0x3')][_0x27ca('0x14')]=this[_0x27ca('0x7')];Canvas['ctx'][_0x27ca('0x15')](this['x']*Node[_0x27ca('0x16')],this['y']*Node[_0x27ca('0x16')],Node[_0x27ca('0x16')],Node[_0x27ca('0x16')]);}static[_0x27ca('0x17')](_0x2f79a0){for(let _0x3fd9b7=0x0;_0x3fd9b7<_0x2f79a0[_0x27ca('0x18')];_0x3fd9b7++)_0x2f79a0[_0x3fd9b7][_0x27ca('0x8')]();}[_0x27ca('0x19')](_0x542cb2){return Math['round'](0x64*Math[_0x27ca('0x1a')](Math['pow'](this['x']-_0x542cb2['x'],0x2)+Math[_0x27ca('0x1b')](this['y']-_0x542cb2['y'],0x2)))/0x64;}[_0x27ca('0x1c')](_0x805816,_0x294c37=[]){let _0x28ba0a=[];let _0x47071e=this['x']<=0x0;let _0xac3dda=this['x']>=Math[_0x27ca('0x1d')](Canvas[_0x27ca('0x5')]/Node[_0x27ca('0x16')])-0x1;let _0xf2c4f4=this['y']<=0x0;let _0xf499ad=this['y']>=Math[_0x27ca('0x1d')](Canvas[_0x27ca('0x6')]/Node[_0x27ca('0x16')])-0x1;if(!_0x47071e)_0x28ba0a[_0x27ca('0x1e')](new Node(this['x']-0x1,this['y']));if(!_0xac3dda)_0x28ba0a[_0x27ca('0x1e')](new Node(this['x']+0x1,this['y']));if(!_0xf2c4f4)_0x28ba0a[_0x27ca('0x1e')](new Node(this['x'],this['y']-0x1));if(!_0xf499ad)_0x28ba0a[_0x27ca('0x1e')](new Node(this['x'],this['y']+0x1));if(_0xac3dda)_0x28ba0a[_0x27ca('0x1e')](new Node(0x0,this['y']));if(_0x47071e)_0x28ba0a[_0x27ca('0x1e')](new Node(Canvas[_0x27ca('0x5')]/Node[_0x27ca('0x16')]-0x1,this['y']));let _0x7c7d69=[];for(let _0x52bf67=0x0;_0x52bf67<_0x28ba0a['length'];_0x52bf67++){let _0x2192c9=_0x28ba0a[_0x52bf67];let _0x25b588=![];for(let _0x572b53=0x0;_0x572b53<_0x294c37[_0x27ca('0x18')];_0x572b53++){let _0x2ea296=_0x294c37[_0x572b53];if(_0x2ea296['x']==_0x2192c9['x']&&_0x2ea296['y']==_0x2192c9['y']){_0x25b588=!![];break;}}if(_0x25b588)continue;_0x2192c9['parent']=this;_0x2192c9[_0x27ca('0x7')]=_0x27ca('0x1f');let _0x58af11,_0x5592dd,_0x490034;_0x58af11=_0x2192c9[_0x27ca('0x19')](_0x805816);_0x5592dd=_0x2192c9['getDistance'](new Node(_0x805816['x']+Canvas[_0x27ca('0x5')]/Node[_0x27ca('0x16')],_0x805816['y']));_0x490034=_0x2192c9[_0x27ca('0x19')](new Node(_0x805816['x']-Canvas[_0x27ca('0x5')]/Node[_0x27ca('0x16')],_0x805816['y']));_0x2192c9[_0x27ca('0x11')]=_0x2192c9['heuristic']||Math[_0x27ca('0x20')](_0x58af11,Math[_0x27ca('0x20')](_0x5592dd,_0x490034));_0x58af11=_0x2192c9[_0x27ca('0x19')](this);_0x5592dd=_0x2192c9[_0x27ca('0x19')](new Node(this['x']+Canvas[_0x27ca('0x5')]/Node[_0x27ca('0x16')],this['y']));_0x490034=_0x2192c9['getDistance'](new Node(this['x']-Canvas[_0x27ca('0x5')]/Node[_0x27ca('0x16')],this['y']));_0x2192c9[_0x27ca('0x12')]=this['costSoFar']+Math['min'](_0x58af11,Math['min'](_0x5592dd,_0x490034));_0x2192c9['totalCost']=_0x2192c9[_0x27ca('0x11')]+_0x2192c9['costSoFar'];_0x7c7d69[_0x27ca('0x1e')](_0x2192c9);}return _0x7c7d69;}static[_0x27ca('0x21')](_0x1391e1,_0x4ae9a9,_0x2f52b8=[]){let _0xc96b37=[];let _0x2a32de=[];let _0x121928=_0x1391e1;let _0xc4229e=0x0;_0xc96b37['push'](_0x121928);while(!![]){let _0x49ae59=_0x121928['getNeighbours'](_0x4ae9a9,_0x2f52b8);_0x2a32de['push'](_0xc96b37[_0x27ca('0x22')](_0xc4229e,0x1)[0x0]);for(let _0x26e7d4=0x0;_0x26e7d4<_0x49ae59[_0x27ca('0x18')];_0x26e7d4++){let _0x71bf38=_0x49ae59[_0x26e7d4];let _0x316332=!![];for(let _0x5dab2f=0x0;_0x5dab2f<_0xc96b37[_0x27ca('0x18')];_0x5dab2f++){let _0x552bea=_0xc96b37[_0x5dab2f];if(_0x71bf38['x']==_0x552bea['x']&&_0x71bf38['y']==_0x552bea['y']){if(_0x71bf38['totalCost']<_0x552bea[_0x27ca('0x23')]){_0xc96b37[_0x5dab2f]=_0x71bf38;}else{_0x316332=![];}}}if(_0x316332)_0xc96b37[_0x27ca('0x1e')](_0x71bf38);}let _0x2a01a9=0x0;for(let _0x425ff0=0x1;_0x425ff0<_0xc96b37[_0x27ca('0x18')];_0x425ff0++)if(_0xc96b37[_0x425ff0][_0x27ca('0x23')]<_0xc96b37[_0x2a01a9]['totalCost'])_0x2a01a9=_0x425ff0;_0xc4229e=_0x2a01a9;_0x121928=_0xc96b37[_0xc4229e];if(_0x121928[_0x27ca('0x11')]==0x0){let _0x16fe48=[];while(_0x121928[_0x27ca('0x13')]!=null){_0x16fe48[_0x27ca('0x1e')](_0x121928);_0x121928=_0x121928[_0x27ca('0x13')];}return _0x16fe48[_0x27ca('0x24')]();}}}}Node[_0x27ca('0x16')]=0x14;const PacmanMazeWidth=0x1c;const PacmanMazeHeight=0x1f;const PacmanMaze=[[0x1,0x1,0x1,0x1,0x1,0x1,0x1,0x1,0x1,0x1,0x1,0x1,0x1,0x1,0x1,0x1,0x1,0x1,0x1,0x1,0x1,0x1,0x1,0x1,0x1,0x1,0x1,0x1],[0x1,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x1,0x1,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x1],[0x1,0x0,0x1,0x1,0x1,0x1,0x0,0x1,0x1,0x1,0x1,0x1,0x0,0x1,0x1,0x0,0x1,0x1,0x1,0x1,0x1,0x0,0x1,0x1,0x1,0x1,0x0,0x1],[0x1,0x0,0x1,0x1,0x1,0x1,0x0,0x1,0x1,0x1,0x1,0x1,0x0,0x1,0x1,0x0,0x1,0x1,0x1,0x1,0x1,0x0,0x1,0x1,0x1,0x1,0x0,0x1],[0x1,0x0,0x1,0x1,0x1,0x1,0x0,0x1,0x1,0x1,0x1,0x1,0x0,0x1,0x1,0x0,0x1,0x1,0x1,0x1,0x1,0x0,0x1,0x1,0x1,0x1,0x0,0x1],[0x1,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x1],[0x1,0x0,0x1,0x1,0x1,0x1,0x0,0x1,0x1,0x0,0x1,0x1,0x1,0x1,0x1,0x1,0x1,0x1,0x0,0x1,0x1,0x0,0x1,0x1,0x1,0x1,0x0,0x1],[0x1,0x0,0x1,0x1,0x1,0x1,0x0,0x1,0x1,0x0,0x1,0x1,0x1,0x1,0x1,0x1,0x1,0x1,0x0,0x1,0x1,0x0,0x1,0x1,0x1,0x1,0x0,0x1],[0x1,0x0,0x0,0x0,0x0,0x0,0x0,0x1,0x1,0x0,0x0,0x0,0x0,0x1,0x1,0x0,0x0,0x0,0x0,0x1,0x1,0x0,0x0,0x0,0x0,0x0,0x0,0x1],[0x1,0x1,0x1,0x1,0x1,0x1,0x0,0x1,0x1,0x1,0x1,0x1,0x0,0x1,0x1,0x0,0x1,0x1,0x1,0x1,0x1,0x0,0x1,0x1,0x1,0x1,0x1,0x1],[0x1,0x1,0x1,0x1,0x1,0x1,0x0,0x1,0x1,0x1,0x1,0x1,0x0,0x1,0x1,0x0,0x1,0x1,0x1,0x1,0x1,0x0,0x1,0x1,0x1,0x1,0x1,0x1],[0x1,0x1,0x1,0x1,0x1,0x1,0x0,0x1,0x1,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x1,0x1,0x0,0x1,0x1,0x1,0x1,0x1,0x1],[0x1,0x1,0x1,0x1,0x1,0x1,0x0,0x1,0x1,0x0,0x1,0x1,0x1,0x1,0x1,0x1,0x1,0x1,0x0,0x1,0x1,0x0,0x1,0x1,0x1,0x1,0x1,0x1],[0x1,0x1,0x1,0x1,0x1,0x1,0x0,0x1,0x1,0x0,0x1,0x1,0x1,0x1,0x1,0x1,0x1,0x1,0x0,0x1,0x1,0x0,0x1,0x1,0x1,0x1,0x1,0x1],[0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x1,0x1,0x1,0x1,0x1,0x1,0x1,0x1,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0],[0x1,0x1,0x1,0x1,0x1,0x1,0x0,0x1,0x1,0x0,0x1,0x1,0x1,0x1,0x1,0x1,0x1,0x1,0x0,0x1,0x1,0x0,0x1,0x1,0x1,0x1,0x1,0x1],[0x1,0x1,0x1,0x1,0x1,0x1,0x0,0x1,0x1,0x0,0x1,0x1,0x1,0x1,0x1,0x1,0x1,0x1,0x0,0x1,0x1,0x0,0x1,0x1,0x1,0x1,0x1,0x1],[0x1,0x1,0x1,0x1,0x1,0x1,0x0,0x1,0x1,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x1,0x1,0x0,0x1,0x1,0x1,0x1,0x1,0x1],[0x1,0x1,0x1,0x1,0x1,0x1,0x0,0x1,0x1,0x0,0x1,0x1,0x1,0x1,0x1,0x1,0x1,0x1,0x0,0x1,0x1,0x0,0x1,0x1,0x1,0x1,0x1,0x1],[0x1,0x1,0x1,0x1,0x1,0x1,0x0,0x1,0x1,0x0,0x1,0x1,0x1,0x1,0x1,0x1,0x1,0x1,0x0,0x1,0x1,0x0,0x1,0x1,0x1,0x1,0x1,0x1],[0x1,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x1,0x1,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x1],[0x1,0x0,0x1,0x1,0x1,0x1,0x0,0x1,0x1,0x1,0x1,0x1,0x0,0x1,0x1,0x0,0x1,0x1,0x1,0x1,0x1,0x0,0x1,0x1,0x1,0x1,0x0,0x1],[0x1,0x0,0x1,0x1,0x1,0x1,0x0,0x1,0x1,0x1,0x1,0x1,0x0,0x1,0x1,0x0,0x1,0x1,0x1,0x1,0x1,0x0,0x1,0x1,0x1,0x1,0x0,0x1],[0x1,0x0,0x0,0x0,0x1,0x1,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x1,0x1,0x0,0x0,0x0,0x1],[0x1,0x1,0x1,0x0,0x1,0x1,0x0,0x1,0x1,0x0,0x1,0x1,0x1,0x1,0x1,0x1,0x1,0x1,0x0,0x1,0x1,0x0,0x1,0x1,0x0,0x1,0x1,0x1],[0x1,0x1,0x1,0x0,0x1,0x1,0x0,0x1,0x1,0x0,0x1,0x1,0x1,0x1,0x1,0x1,0x1,0x1,0x0,0x1,0x1,0x0,0x1,0x1,0x0,0x1,0x1,0x1],[0x1,0x0,0x0,0x0,0x0,0x0,0x0,0x1,0x1,0x0,0x0,0x0,0x0,0x1,0x1,0x0,0x0,0x0,0x0,0x1,0x1,0x0,0x0,0x0,0x0,0x0,0x0,0x1],[0x1,0x0,0x1,0x1,0x1,0x1,0x1,0x1,0x1,0x1,0x1,0x1,0x0,0x1,0x1,0x0,0x1,0x1,0x1,0x1,0x1,0x1,0x1,0x1,0x1,0x1,0x0,0x1],[0x1,0x0,0x1,0x1,0x1,0x1,0x1,0x1,0x1,0x1,0x1,0x1,0x0,0x1,0x1,0x0,0x1,0x1,0x1,0x1,0x1,0x1,0x1,0x1,0x1,0x1,0x0,0x1],[0x1,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x1],[0x1,0x1,0x1,0x1,0x1,0x1,0x1,0x1,0x1,0x1,0x1,0x1,0x1,0x1,0x1,0x1,0x1,0x1,0x1,0x1,0x1,0x1,0x1,0x1,0x1,0x1,0x1,0x1]];class Obstacle extends Node{constructor(_0x7cdb8d,_0x2f2ee9,_0x45d795=_0x27ca('0x25')){super();this['x']=_0x7cdb8d;this['y']=_0x2f2ee9;this['color']=_0x45d795;}static[_0x27ca('0x0')](){for(let _0x5515c8=0x0;_0x5515c8<PacmanMaze[_0x27ca('0x18')];_0x5515c8++)for(let _0x406a7c=0x0;_0x406a7c<PacmanMaze[_0x5515c8][_0x27ca('0x18')];_0x406a7c++)if(PacmanMaze[_0x5515c8][_0x406a7c])this[_0x27ca('0x26')][_0x27ca('0x1e')](new Obstacle(_0x406a7c,_0x5515c8));}[_0x27ca('0x8')](){Canvas[_0x27ca('0x3')][_0x27ca('0x14')]=this[_0x27ca('0x7')];Canvas['ctx'][_0x27ca('0x15')](this['x']*super[_0x27ca('0x16')],this['y']*super['size'],super[_0x27ca('0x16')],super['size']);}static[_0x27ca('0x27')](){super['drawList'](this[_0x27ca('0x26')]);}}Obstacle['list']=[];class Pellet extends Node{constructor(_0x33b21d,_0x1aca6a,_0x1b9fff='yellow'){super();this['x']=_0x33b21d;this['y']=_0x1aca6a;this['color']=_0x1b9fff;}static[_0x27ca('0x0')](){for(let _0x1de291=0x0;_0x1de291<PacmanMaze[_0x27ca('0x18')];_0x1de291++)for(let _0xbc1700=0x0;_0xbc1700<PacmanMaze[_0x1de291][_0x27ca('0x18')];_0xbc1700++)if(PacmanMaze[_0x1de291][_0xbc1700]==0x0)this[_0x27ca('0x26')][_0x27ca('0x1e')](new Pellet(_0xbc1700,_0x1de291));}[_0x27ca('0x8')](){Canvas[_0x27ca('0x3')][_0x27ca('0x14')]=this[_0x27ca('0x7')];Canvas[_0x27ca('0x3')][_0x27ca('0x15')](this['x']*Node[_0x27ca('0x16')]+(Node['size']-Pellet[_0x27ca('0x16')])/0x2,this['y']*Node[_0x27ca('0x16')]+(Node[_0x27ca('0x16')]-Pellet[_0x27ca('0x16')])/0x2,Pellet[_0x27ca('0x16')],Pellet[_0x27ca('0x16')]);}static[_0x27ca('0x27')](){for(let _0x1598ab=0x0;_0x1598ab<this[_0x27ca('0x26')]['length'];_0x1598ab++)this[_0x27ca('0x26')][_0x1598ab][_0x27ca('0x8')]();}[_0x27ca('0x28')](){let _0x31f058=-0x1;for(let _0x853049=0x0;_0x853049<Pellet[_0x27ca('0x26')][_0x27ca('0x18')];_0x853049++)if(Pellet[_0x27ca('0x26')][_0x853049]==this){_0x31f058=_0x853049;break;}if(_0x31f058!=-0x1)Pellet[_0x27ca('0x26')]['splice'](_0x31f058,0x1);}}Pellet[_0x27ca('0x16')]=0x5;Pellet[_0x27ca('0x26')]=[];class Sprite{constructor(_0x26fc4f){this[_0x27ca('0x29')]=_0x26fc4f[_0x27ca('0x29')]||[];this['x']=_0x26fc4f['x']||0x0;this['y']=_0x26fc4f['y']||0x0;this['pauseIndex']=_0x26fc4f[_0x27ca('0x2a')]||0x0;this['ticksPerFrame']=_0x26fc4f[_0x27ca('0x2b')]||0x0;this[_0x27ca('0x2c')]=_0x26fc4f[_0x27ca('0x2d')];this['image']=new Image();this[_0x27ca('0x2d')][_0x27ca('0x2e')]=this[_0x27ca('0x2c')];let _0x4644f1=this;this[_0x27ca('0x2d')][_0x27ca('0xd')]=function(){_0x4644f1['fullWidth']=_0x4644f1[_0x27ca('0x2d')][_0x27ca('0x5')];_0x4644f1[_0x27ca('0x2f')]=_0x4644f1[_0x27ca('0x2d')][_0x27ca('0x6')];};this[_0x27ca('0x30')]=0x0;this[_0x27ca('0x31')]=0x0;this[_0x27ca('0x32')]=![];Sprite['all'][_0x27ca('0x1e')](this);}[_0x27ca('0x9')](){if(this[_0x27ca('0x32')]&&this[_0x27ca('0x30')]==this[_0x27ca('0x2a')])return;this['tickCount']++;if(this[_0x27ca('0x31')]>this[_0x27ca('0x2b')]){this[_0x27ca('0x31')]=0x0;if(this[_0x27ca('0x30')]<this[_0x27ca('0x29')][_0x27ca('0x18')]-0x1){this[_0x27ca('0x30')]++;}else{this['frameIndex']=0x0;}}}['draw'](){let _0x95fdde=this[_0x27ca('0x29')][this[_0x27ca('0x30')]];Canvas['ctx'][_0x27ca('0x33')](this[_0x27ca('0x2d')],_0x95fdde['x'],_0x95fdde['y'],_0x95fdde[_0x27ca('0x5')],_0x95fdde[_0x27ca('0x6')],this['x'],this['y'],_0x95fdde[_0x27ca('0x34')],_0x95fdde['scaledHeight']);}[_0x27ca('0x35')](){this[_0x27ca('0x32')]=!![];}[_0x27ca('0x36')](){this[_0x27ca('0x32')]=![];}['delete'](){let _0x2454eb=-0x1;for(let _0x3ad5d8=0x0;_0x3ad5d8<Sprite[_0x27ca('0x37')][_0x27ca('0x18')];_0x3ad5d8++)if(Sprite['all'][_0x3ad5d8]==this){_0x2454eb=_0x3ad5d8;break;}if(_0x2454eb!=-0x1)Sprite[_0x27ca('0x37')][_0x27ca('0x22')](_0x2454eb,0x1);}static[_0x27ca('0x27')](){for(var _0x4aa999 in Sprite[_0x27ca('0x37')]){Sprite[_0x27ca('0x37')][_0x4aa999][_0x27ca('0x9')]();Sprite['all'][_0x4aa999][_0x27ca('0x8')]();}}}Sprite['all']=[];let ghostBhvrs={'red':null,'pink':null,'blue':null,'orange':null};function updateBhvrs(){for(let _0x516181 in ghostBhvrs)document[_0x27ca('0x2')](_0x516181+_0x27ca('0x38'))[_0x27ca('0x39')]=':\x20'+ghostBhvrs[_0x516181];}function cAlert(_0x38b3f3){document[_0x27ca('0x2')](_0x27ca('0x3a'))['innerHTML']=_0x38b3f3;}function showRefresh(){document[_0x27ca('0x2')]('refreshBtn')['style'][_0x27ca('0x3b')]='inline-block';}class Pacman{constructor(_0xbe326c,_0x42352b){this['x']=_0xbe326c;this['y']=_0x42352b;this[_0x27ca('0x3c')]=Obstacle[_0x27ca('0x26')];this[_0x27ca('0x3d')]=Pellet[_0x27ca('0x26')];this[_0x27ca('0x16')]=Node[_0x27ca('0x16')];this[_0x27ca('0x3e')]=0x27;this['nextDirection']=null;this[_0x27ca('0x3f')]=0xa;this[_0x27ca('0x40')]=new Audio(_0x27ca('0x41'));this[_0x27ca('0x42')]=new Audio(_0x27ca('0x43'));this[_0x27ca('0x42')]['loop']=!![];this[_0x27ca('0x44')]=0xa;}[_0x27ca('0x8')](){if(this[_0x27ca('0x45')]){if(this[_0x27ca('0x45')][_0x27ca('0x30')]!=0xa){this[_0x27ca('0x45')][_0x27ca('0x9')]();this[_0x27ca('0x45')][_0x27ca('0x8')]();}else{this[_0x27ca('0x46')]=!![];}return;}if(this[_0x27ca('0xa')]){this[_0x27ca('0xa')]['x']=this['x'];this[_0x27ca('0xa')]['y']=this['y'];this[_0x27ca('0xa')][_0x27ca('0x29')]=this['spriteFrames'][this[_0x27ca('0x3e')]];}else{this[_0x27ca('0x47')]={37:[{'x':0x2*0x2a8/0x3+0x12,'y':0x10,'width':0xf,'height':0xf,'scaledWidth':this[_0x27ca('0x16')],'scaledHeight':this[_0x27ca('0x16')]},{'x':0x2*0x2a8/0x3+0x2,'y':0x10,'width':0xf,'height':0xf,'scaledWidth':this[_0x27ca('0x16')],'scaledHeight':this[_0x27ca('0x16')]},{'x':0x2*0x2a8/0x3+0x22,'y':0x0,'width':0xf,'height':0xf,'scaledWidth':this[_0x27ca('0x16')],'scaledHeight':this['size']}],38:[{'x':0x2*0x2a8/0x3+0x12,'y':0x20,'width':0xf,'height':0xf,'scaledWidth':this[_0x27ca('0x16')],'scaledHeight':this['size']},{'x':0x2*0x2a8/0x3+0x2,'y':0x20,'width':0xf,'height':0xf,'scaledWidth':this['size'],'scaledHeight':this['size']},{'x':0x2*0x2a8/0x3+0x22,'y':0x0,'width':0xf,'height':0xf,'scaledWidth':this[_0x27ca('0x16')],'scaledHeight':this[_0x27ca('0x16')]}],39:[{'x':0x2*0x2a8/0x3+0x12,'y':0x0,'width':0xf,'height':0xf,'scaledWidth':this[_0x27ca('0x16')],'scaledHeight':this[_0x27ca('0x16')]},{'x':0x2*0x2a8/0x3+0x2,'y':0x0,'width':0xf,'height':0xf,'scaledWidth':this[_0x27ca('0x16')],'scaledHeight':this[_0x27ca('0x16')]},{'x':0x2*0x2a8/0x3+0x22,'y':0x0,'width':0xf,'height':0xf,'scaledWidth':this['size'],'scaledHeight':this[_0x27ca('0x16')]}],40:[{'x':0x2*0x2a8/0x3+0x12,'y':0x30,'width':0xf,'height':0xf,'scaledWidth':this[_0x27ca('0x16')],'scaledHeight':this['size']},{'x':0x2*0x2a8/0x3+0x2,'y':0x30,'width':0xf,'height':0xf,'scaledWidth':this[_0x27ca('0x16')],'scaledHeight':this[_0x27ca('0x16')]},{'x':0x2*0x2a8/0x3+0x22,'y':0x0,'width':0xf,'height':0xf,'scaledWidth':this[_0x27ca('0x16')],'scaledHeight':this[_0x27ca('0x16')]}]};this[_0x27ca('0xa')]=new Sprite({'image':_0x27ca('0x48'),'x':this['x'],'y':this['y'],'ticksPerFrame':0x3,'frames':this[_0x27ca('0x47')][this[_0x27ca('0x3e')]],'pauseIndex':0x1});}this[_0x27ca('0xa')][_0x27ca('0x9')]();this['sprite'][_0x27ca('0x8')]();}[_0x27ca('0x9')](){if(this['dying']){this[_0x27ca('0x8')]();return;}if(this['chewCountDown'])this[_0x27ca('0x44')]--;if(this[_0x27ca('0x49')]!=null)this[_0x27ca('0x4a')](this[_0x27ca('0x49')]);this[_0x27ca('0x4b')]();this[_0x27ca('0x4c')]();this[_0x27ca('0x4d')]();this[_0x27ca('0x8')]();}['win'](){if(!this[_0x27ca('0x3d')][_0x27ca('0x18')]&&!this[_0x27ca('0x44')]){this[_0x27ca('0x4e')]=!![];cAlert(_0x27ca('0x4f'));showRefresh();}}[_0x27ca('0x50')](){if(this['dying'])return;this[_0x27ca('0x51')]=!![];let _0x2c0191=[{'x':0x2*0x2a8/0x3+0x22,'y':0x0,'width':0xf,'height':0xf,'scaledWidth':this[_0x27ca('0x16')],'scaledHeight':this[_0x27ca('0x16')]}];for(let _0x2424ff=0x0;_0x2424ff<0xa;_0x2424ff++){let _0x4275b6=_0x2c0191[_0x2424ff];_0x2c0191['push']({'x':_0x4275b6['x']+0x10,'y':_0x2424ff==0xa?0x14:0x0,'width':0xf,'height':0xf,'scaledWidth':this[_0x27ca('0x16')],'scaledHeight':this['size']});}this[_0x27ca('0x52')]=_0x2c0191;this[_0x27ca('0x45')]=new Sprite({'image':_0x27ca('0x48'),'x':this['x'],'y':this['y'],'ticksPerFrame':0x3,'frames':_0x2c0191});setTimeout(()=>{this[_0x27ca('0x42')][_0x27ca('0x32')]();this['dieSound']['play']();},0xa);cAlert(_0x27ca('0x53'));showRefresh();}[_0x27ca('0x4c')](){for(let _0x1f3fd4=0x0;_0x1f3fd4<this[_0x27ca('0x3d')][_0x27ca('0x18')];_0x1f3fd4++){let _0x16c4ec=this['pellets'][_0x1f3fd4];let _0x1dad0d=this['x']+this['size']/0x2;let _0x5a15f6=this['y']+this[_0x27ca('0x16')]/0x2;let _0x3c29b1=(_0x16c4ec['x']+0x1/0x2)*Node['size'];let _0x5b0c15=(_0x16c4ec['y']+0x1/0x2)*Node['size'];let _0x4d681c=Math[_0x27ca('0x1a')](Math[_0x27ca('0x1b')](_0x1dad0d-_0x3c29b1,0x2)+Math[_0x27ca('0x1b')](_0x5a15f6-_0x5b0c15,0x2));if(_0x4d681c<0x5){this[_0x27ca('0x3d')][_0x1f3fd4][_0x27ca('0x28')]();pacmanAte();setTimeout(()=>{this['eatSound'][_0x27ca('0x54')]();},0xa);this[_0x27ca('0x44')]=0xa;return;}}if(!this[_0x27ca('0x44')])this[_0x27ca('0x42')][_0x27ca('0x32')]();}[_0x27ca('0x4b')](){let _0x26671e=this['x'];let _0x3889eb=this['y'];let _0x5aa03a=Node[_0x27ca('0x16')]/this[_0x27ca('0x3f')];switch(this[_0x27ca('0x3e')]){case 0x25:_0x26671e=this['x']-_0x5aa03a;if(_0x26671e<0x0)_0x26671e=Canvas['width']-this[_0x27ca('0x16')];break;case 0x26:_0x3889eb=this['y']-_0x5aa03a;if(_0x3889eb<0x0)_0x3889eb=Canvas[_0x27ca('0x6')]-this[_0x27ca('0x16')];break;case 0x27:_0x26671e=this['x']+_0x5aa03a;if(_0x26671e+this[_0x27ca('0x16')]>Canvas[_0x27ca('0x5')])_0x26671e=0x0;break;case 0x28:_0x3889eb=this['y']+_0x5aa03a;if(_0x3889eb+this[_0x27ca('0x16')]>Canvas[_0x27ca('0x6')])_0x3889eb=0x0;break;}if(!this[_0x27ca('0x55')](_0x26671e,_0x3889eb)){this['x']=_0x26671e;this['y']=_0x3889eb;if(this[_0x27ca('0xa')])this[_0x27ca('0xa')][_0x27ca('0x36')]();}else{if(this[_0x27ca('0xa')])this[_0x27ca('0xa')][_0x27ca('0x35')]();}}[_0x27ca('0x56')](_0x23740d,_0x32ba43,_0x141357){let _0x48bd36,_0x3f4818;_0x23740d/=Node[_0x27ca('0x16')];_0x32ba43/=Node[_0x27ca('0x16')];_0x48bd36=_0x141357['x']<=_0x23740d&&_0x23740d<_0x141357['x']+0x1;_0x3f4818=_0x141357['y']<=_0x32ba43&&_0x32ba43<_0x141357['y']+0x1;return _0x48bd36&&_0x3f4818;}[_0x27ca('0x55')](_0x2800e3,_0x240992){for(let _0x11813a=0x0;_0x11813a<this[_0x27ca('0x3c')][_0x27ca('0x18')];_0x11813a++){if(this[_0x27ca('0x56')](_0x2800e3,_0x240992,this[_0x27ca('0x3c')][_0x11813a]))return!![];if(this['pointInObstacle'](_0x2800e3+this[_0x27ca('0x16')]-0x1,_0x240992,this[_0x27ca('0x3c')][_0x11813a]))return!![];if(this[_0x27ca('0x56')](_0x2800e3,_0x240992+this[_0x27ca('0x16')]-0x1,this[_0x27ca('0x3c')][_0x11813a]))return!![];if(this[_0x27ca('0x56')](_0x2800e3+this[_0x27ca('0x16')]-0x1,_0x240992+this[_0x27ca('0x16')]-0x1,this[_0x27ca('0x3c')][_0x11813a]))return!![];}return![];}[_0x27ca('0x4a')](_0x44c9f4){let _0x3ff71f=![];switch(_0x44c9f4){case 0x25:_0x3ff71f=this[_0x27ca('0x55')](this['x']-0x1,this['y']);break;case 0x26:_0x3ff71f=this[_0x27ca('0x55')](this['x'],this['y']-0x1);break;case 0x27:_0x3ff71f=this['inObstacle'](this['x']+0x1,this['y']);break;case 0x28:_0x3ff71f=this['inObstacle'](this['x'],this['y']+0x1);break;}if(_0x3ff71f){this['nextDirection']=_0x44c9f4;}else{this[_0x27ca('0x3e')]=_0x44c9f4;this[_0x27ca('0x49')]=null;}}[_0x27ca('0xc')](_0x2eb819){let _0x49a49f=[0x25,0x26,0x27,0x28];if(_0x49a49f[_0x27ca('0x57')](_0x2eb819[_0x27ca('0x58')])!=-0x1)this[_0x27ca('0x4a')](_0x2eb819[_0x27ca('0x58')]);}}class Ghost{constructor(_0x5ebf1b,_0x239a4f,_0xbd6e05,_0x5295c2=_0x27ca('0x59')){this['x']=_0x5ebf1b;this['y']=_0x239a4f;this[_0x27ca('0x5a')]();this[_0x27ca('0x16')]=Node[_0x27ca('0x16')];this[_0x27ca('0x3e')]=0x26;this[_0x27ca('0x49')]=null;this['path']=[];this[_0x27ca('0x3f')]=0x10;this['pacman']=_0xbd6e05;this[_0x27ca('0x7')]=_0x5295c2;this[_0x27ca('0x5b')]=!![];if(!Ghost[_0x27ca('0x5c')][_0x27ca('0x18')])this['initDestinations']();}static[_0x27ca('0x5d')](_0x259b76){return _0x259b76['y']==0xc&&(_0x259b76['x']==0xd||_0x259b76['x']==0xe)||_0x259b76['x']<0x11&&_0x259b76['x']>0xa&&_0x259b76['y']<0x10&&_0x259b76['y']>0xc;}['initObstacles'](){let _0x112bb2=Obstacle['list'];let _0x13a1cc=[];for(let _0x1e3a9d=0x0;_0x1e3a9d<_0x112bb2[_0x27ca('0x18')];_0x1e3a9d++)if(!Ghost['inSpawnArea'](_0x112bb2[_0x1e3a9d]))_0x13a1cc[_0x27ca('0x1e')](_0x112bb2[_0x1e3a9d]);this[_0x27ca('0x3c')]=_0x13a1cc;}[_0x27ca('0x5e')](){if(this[_0x27ca('0x5f')][_0x27ca('0x18')]){for(let _0x11afdc=0x0;_0x11afdc<this[_0x27ca('0x5f')][_0x27ca('0x18')];_0x11afdc++){let _0x4111fb=this[_0x27ca('0x5f')][_0x11afdc];let _0x880847=0x5;let _0x341ea0=_0x4111fb['x']*Node[_0x27ca('0x16')]-(_0x880847-Node['size'])/0x2;let _0x5076d0=_0x4111fb['y']*Node['size']-(_0x880847-Node[_0x27ca('0x16')])/0x2;Canvas[_0x27ca('0x3')][_0x27ca('0x14')]=this[_0x27ca('0x7')];Canvas[_0x27ca('0x3')][_0x27ca('0x15')](_0x341ea0,_0x5076d0,_0x880847,_0x880847);}}}[_0x27ca('0x8')](){if(this[_0x27ca('0xa')]){this['sprite']['x']=this['x'];this[_0x27ca('0xa')]['y']=this['y'];this[_0x27ca('0xa')][_0x27ca('0x29')]=this[_0x27ca('0x47')][this['direction']];}else{this[_0x27ca('0x47')]={'red':{37:[{'x':0x2*0x2a8/0x3+0x22,'y':0x40,'width':0xf,'height':0xf,'scaledWidth':this[_0x27ca('0x16')],'scaledHeight':this[_0x27ca('0x16')]},{'x':0x2*0x2a8/0x3+0x32,'y':0x40,'width':0xf,'height':0xf,'scaledWidth':this[_0x27ca('0x16')],'scaledHeight':this[_0x27ca('0x16')]}],38:[{'x':0x2*0x2a8/0x3+0x42,'y':0x40,'width':0xf,'height':0xf,'scaledWidth':this[_0x27ca('0x16')],'scaledHeight':this[_0x27ca('0x16')]},{'x':0x2*0x2a8/0x3+0x52,'y':0x40,'width':0xf,'height':0xf,'scaledWidth':this['size'],'scaledHeight':this[_0x27ca('0x16')]}],39:[{'x':0x2*0x2a8/0x3+0x2,'y':0x40,'width':0xf,'height':0xf,'scaledWidth':this[_0x27ca('0x16')],'scaledHeight':this[_0x27ca('0x16')]},{'x':0x2*0x2a8/0x3+0x12,'y':0x40,'width':0xf,'height':0xf,'scaledWidth':this[_0x27ca('0x16')],'scaledHeight':this['size']}],40:[{'x':0x2*0x2a8/0x3+0x62,'y':0x40,'width':0xf,'height':0xf,'scaledWidth':this['size'],'scaledHeight':this[_0x27ca('0x16')]},{'x':0x2*0x2a8/0x3+0x72,'y':0x40,'width':0xf,'height':0xf,'scaledWidth':this['size'],'scaledHeight':this[_0x27ca('0x16')]}]},'pink':{37:[{'x':0x2*0x2a8/0x3+0x22,'y':0x50,'width':0xf,'height':0xf,'scaledWidth':this[_0x27ca('0x16')],'scaledHeight':this[_0x27ca('0x16')]},{'x':0x2*0x2a8/0x3+0x32,'y':0x50,'width':0xf,'height':0xf,'scaledWidth':this[_0x27ca('0x16')],'scaledHeight':this['size']}],38:[{'x':0x2*0x2a8/0x3+0x42,'y':0x50,'width':0xf,'height':0xf,'scaledWidth':this[_0x27ca('0x16')],'scaledHeight':this[_0x27ca('0x16')]},{'x':0x2*0x2a8/0x3+0x52,'y':0x50,'width':0xf,'height':0xf,'scaledWidth':this[_0x27ca('0x16')],'scaledHeight':this[_0x27ca('0x16')]}],39:[{'x':0x2*0x2a8/0x3+0x2,'y':0x50,'width':0xf,'height':0xf,'scaledWidth':this[_0x27ca('0x16')],'scaledHeight':this[_0x27ca('0x16')]},{'x':0x2*0x2a8/0x3+0x12,'y':0x50,'width':0xf,'height':0xf,'scaledWidth':this[_0x27ca('0x16')],'scaledHeight':this[_0x27ca('0x16')]}],40:[{'x':0x2*0x2a8/0x3+0x62,'y':0x50,'width':0xf,'height':0xf,'scaledWidth':this[_0x27ca('0x16')],'scaledHeight':this['size']},{'x':0x2*0x2a8/0x3+0x72,'y':0x50,'width':0xf,'height':0xf,'scaledWidth':this[_0x27ca('0x16')],'scaledHeight':this[_0x27ca('0x16')]}]},'blue':{37:[{'x':0x2*0x2a8/0x3+0x22,'y':0x60,'width':0xf,'height':0xf,'scaledWidth':this[_0x27ca('0x16')],'scaledHeight':this[_0x27ca('0x16')]},{'x':0x2*0x2a8/0x3+0x32,'y':0x60,'width':0xf,'height':0xf,'scaledWidth':this[_0x27ca('0x16')],'scaledHeight':this[_0x27ca('0x16')]}],38:[{'x':0x2*0x2a8/0x3+0x42,'y':0x60,'width':0xf,'height':0xf,'scaledWidth':this['size'],'scaledHeight':this['size']},{'x':0x2*0x2a8/0x3+0x52,'y':0x60,'width':0xf,'height':0xf,'scaledWidth':this['size'],'scaledHeight':this['size']}],39:[{'x':0x2*0x2a8/0x3+0x2,'y':0x60,'width':0xf,'height':0xf,'scaledWidth':this[_0x27ca('0x16')],'scaledHeight':this[_0x27ca('0x16')]},{'x':0x2*0x2a8/0x3+0x12,'y':0x60,'width':0xf,'height':0xf,'scaledWidth':this[_0x27ca('0x16')],'scaledHeight':this[_0x27ca('0x16')]}],40:[{'x':0x2*0x2a8/0x3+0x62,'y':0x60,'width':0xf,'height':0xf,'scaledWidth':this[_0x27ca('0x16')],'scaledHeight':this['size']},{'x':0x2*0x2a8/0x3+0x72,'y':0x60,'width':0xf,'height':0xf,'scaledWidth':this[_0x27ca('0x16')],'scaledHeight':this[_0x27ca('0x16')]}]},'orange':{37:[{'x':0x2*0x2a8/0x3+0x22,'y':0x70,'width':0xf,'height':0xf,'scaledWidth':this[_0x27ca('0x16')],'scaledHeight':this[_0x27ca('0x16')]},{'x':0x2*0x2a8/0x3+0x32,'y':0x70,'width':0xf,'height':0xf,'scaledWidth':this['size'],'scaledHeight':this['size']}],38:[{'x':0x2*0x2a8/0x3+0x42,'y':0x70,'width':0xf,'height':0xf,'scaledWidth':this[_0x27ca('0x16')],'scaledHeight':this['size']},{'x':0x2*0x2a8/0x3+0x52,'y':0x70,'width':0xf,'height':0xf,'scaledWidth':this[_0x27ca('0x16')],'scaledHeight':this[_0x27ca('0x16')]}],39:[{'x':0x2*0x2a8/0x3+0x2,'y':0x70,'width':0xf,'height':0xf,'scaledWidth':this[_0x27ca('0x16')],'scaledHeight':this[_0x27ca('0x16')]},{'x':0x2*0x2a8/0x3+0x12,'y':0x70,'width':0xf,'height':0xf,'scaledWidth':this[_0x27ca('0x16')],'scaledHeight':this[_0x27ca('0x16')]}],40:[{'x':0x2*0x2a8/0x3+0x62,'y':0x70,'width':0xf,'height':0xf,'scaledWidth':this[_0x27ca('0x16')],'scaledHeight':this[_0x27ca('0x16')]},{'x':0x2*0x2a8/0x3+0x72,'y':0x70,'width':0xf,'height':0xf,'scaledWidth':this['size'],'scaledHeight':this[_0x27ca('0x16')]}]}};this[_0x27ca('0x47')]=this[_0x27ca('0x47')][this[_0x27ca('0x7')]];this['sprite']=new Sprite({'image':_0x27ca('0x48'),'x':this['x'],'y':this['y'],'ticksPerFrame':0x3,'frames':this['spriteFrames'][this[_0x27ca('0x3e')]],'pauseIndex':0x1});}this[_0x27ca('0xa')]['update']();this[_0x27ca('0xa')]['draw']();}[_0x27ca('0x60')](){let _0x449768=new Node(Math[_0x27ca('0x1d')](this[_0x27ca('0x61')]['x']/Node[_0x27ca('0x16')]),Math[_0x27ca('0x1d')](this[_0x27ca('0x61')]['y']/Node[_0x27ca('0x16')]));this[_0x27ca('0x62')](_0x449768);}[_0x27ca('0x63')](){Ghost[_0x27ca('0x5c')]=[];for(let _0x12f685=0x0;_0x12f685<PacmanMaze[_0x27ca('0x18')];_0x12f685++)for(let _0x5f3d10=0x0;_0x5f3d10<PacmanMaze[_0x12f685][_0x27ca('0x18')];_0x5f3d10++)if(!PacmanMaze[_0x12f685][_0x5f3d10])Ghost[_0x27ca('0x5c')][_0x27ca('0x1e')](new Node(_0x5f3d10,_0x12f685));}[_0x27ca('0x64')](){let _0x4cf58c=Ghost[_0x27ca('0x5c')][Math['floor'](Math['random']()*(Ghost['dests'][_0x27ca('0x18')]-0x1))];this[_0x27ca('0x62')](_0x4cf58c);}[_0x27ca('0x65')](_0x1c43a2){ghostBhvrs[this[_0x27ca('0x7')]]=_0x1c43a2;this['behavior']=_0x1c43a2;updateBhvrs();}[_0x27ca('0x66')](){let _0x854cd8={'x':this[_0x27ca('0x61')]['x'],'y':this['pacman']['y']};let _0x538d3b={};for(let _0x237e42 in ghosts){let _0x10a5b8=ghosts[_0x237e42];if(_0x10a5b8['color']==this['color'])continue;_0x538d3b[_0x10a5b8[_0x27ca('0x7')]]={'x':_0x10a5b8['x'],'y':_0x10a5b8['y']};}this['setBehavior'](chooseBehavior(this,_0x854cd8,_0x538d3b));switch(this[_0x27ca('0x67')]){case _0x27ca('0x68'):this[_0x27ca('0x69')]();break;case _0x27ca('0x6a'):this[_0x27ca('0x6b')]();break;case'Shy':this[_0x27ca('0x6c')]();break;default:this['behaveRandom']();}}['behaveHunting'](){if(customHunting)behaveHunting(this,pacman);else this[_0x27ca('0x60')]();}[_0x27ca('0x6b')](){if(customDefense)behaveDefense(this,Pellet[_0x27ca('0x26')],Node[_0x27ca('0x16')]);else this[_0x27ca('0x64')]();}[_0x27ca('0x6c')](){if(customShy)behaveShy(this,ghosts);else this[_0x27ca('0x64')]();}[_0x27ca('0x6d')](){if(customRandom)behaveRandom(this,Ghost[_0x27ca('0x5c')]);else this[_0x27ca('0x64')]();}['update'](){if(this[_0x27ca('0x49')]!=null)this[_0x27ca('0x4a')](this[_0x27ca('0x49')]);if(this[_0x27ca('0x5f')]['length']){this[_0x27ca('0x6e')]();}let _0x19bddd=this['x']%Node[_0x27ca('0x16')]==0x0;_0x19bddd=_0x19bddd&&this['y']%Node[_0x27ca('0x16')]==0x0;if(this[_0x27ca('0x5b')]){this['spawnMove']();}else if(_0x19bddd){this[_0x27ca('0x66')]();}this['move']();this[_0x27ca('0x6f')]();this['draw']();}[_0x27ca('0x70')](){if(this['y']==0xd*Node['size']&&this['direction']==0x26)if(this[_0x27ca('0x71')])this['inSpawn']=![];else this['direction']=0x28;else if(this['y']==0xf*Node[_0x27ca('0x16')]&&this[_0x27ca('0x3e')]==0x28)this[_0x27ca('0x3e')]=0x26;}[_0x27ca('0x72')](){this[_0x27ca('0x71')]=!![];}['move'](){let _0x31bd7e=this['x'];let _0x4a130d=this['y'];let _0x3077f7=Node[_0x27ca('0x16')]/this[_0x27ca('0x3f')];switch(this[_0x27ca('0x3e')]){case 0x25:_0x31bd7e=this['x']-_0x3077f7;if(_0x31bd7e<0x0)_0x31bd7e=Canvas['width']-this[_0x27ca('0x16')];break;case 0x26:_0x4a130d=this['y']-_0x3077f7;if(_0x4a130d<0x0)_0x4a130d=Canvas[_0x27ca('0x6')]-this[_0x27ca('0x16')];break;case 0x27:_0x31bd7e=this['x']+_0x3077f7;if(_0x31bd7e+this[_0x27ca('0x16')]>Canvas[_0x27ca('0x5')])_0x31bd7e=0x0;break;case 0x28:_0x4a130d=this['y']+_0x3077f7;if(_0x4a130d+this[_0x27ca('0x16')]>Canvas[_0x27ca('0x6')])_0x4a130d=0x0;break;}if(!this['inObstacle'](_0x31bd7e,_0x4a130d)){this['x']=_0x31bd7e;this['y']=_0x4a130d;if(this[_0x27ca('0xa')])this[_0x27ca('0xa')][_0x27ca('0x36')]();}else{if(this[_0x27ca('0xa')])this['sprite']['stop']();}}[_0x27ca('0x6f')](){let _0x48ccd8=this['x']+this[_0x27ca('0x16')]/0x2;let _0x41fe99=this['y']+this[_0x27ca('0x16')]/0x2;let _0x35e31f=this['pacman']['x']+this[_0x27ca('0x61')][_0x27ca('0x16')]/0x2;let _0x4afd8b=this['pacman']['y']+this[_0x27ca('0x61')][_0x27ca('0x16')]/0x2;let _0x44c18d=Math['sqrt'](Math[_0x27ca('0x1b')](_0x48ccd8-_0x35e31f,0x2)+Math[_0x27ca('0x1b')](_0x41fe99-_0x4afd8b,0x2));if(_0x44c18d<0xa){this['pacman']['die']();}}[_0x27ca('0x56')](_0x2abefe,_0x26fadc,_0x30d84f){let _0x427670,_0x48b975;_0x2abefe/=Node[_0x27ca('0x16')];_0x26fadc/=Node['size'];_0x427670=_0x30d84f['x']<=_0x2abefe&&_0x2abefe<_0x30d84f['x']+0x1;_0x48b975=_0x30d84f['y']<=_0x26fadc&&_0x26fadc<_0x30d84f['y']+0x1;return _0x427670&&_0x48b975;}[_0x27ca('0x55')](_0x45aee5,_0x1179c5){for(let _0x1da1b3=0x0;_0x1da1b3<this[_0x27ca('0x3c')][_0x27ca('0x18')];_0x1da1b3++){if(this[_0x27ca('0x56')](_0x45aee5,_0x1179c5,this[_0x27ca('0x3c')][_0x1da1b3]))return!![];if(this[_0x27ca('0x56')](_0x45aee5+this[_0x27ca('0x16')]-0x1,_0x1179c5,this[_0x27ca('0x3c')][_0x1da1b3]))return!![];if(this[_0x27ca('0x56')](_0x45aee5,_0x1179c5+this[_0x27ca('0x16')]-0x1,this['obstacles'][_0x1da1b3]))return!![];if(this['pointInObstacle'](_0x45aee5+this['size']-0x1,_0x1179c5+this[_0x27ca('0x16')]-0x1,this['obstacles'][_0x1da1b3]))return!![];}return![];}[_0x27ca('0x4a')](_0x153773){let _0xa2f72a=![];switch(_0x153773){case 0x25:_0xa2f72a=this[_0x27ca('0x55')](this['x']-0x1,this['y']);break;case 0x26:_0xa2f72a=this[_0x27ca('0x55')](this['x'],this['y']-0x1);break;case 0x27:_0xa2f72a=this[_0x27ca('0x55')](this['x']+0x1,this['y']);break;case 0x28:_0xa2f72a=this[_0x27ca('0x55')](this['x'],this['y']+0x1);break;}if(_0xa2f72a){this[_0x27ca('0x49')]=_0x153773;}else{this['direction']=_0x153773;this['nextDirection']=null;}}['followPath'](_0xd9578f=this[_0x27ca('0x5f')]){let _0x1be6d1,_0x370ae4,_0x3056e0;_0x1be6d1=_0xd9578f[0x0];_0x370ae4=_0x1be6d1['x']*Node[_0x27ca('0x16')];_0x3056e0=_0x1be6d1['y']*Node[_0x27ca('0x16')];if(_0x370ae4==this['x']&&_0x3056e0==this['y']){_0xd9578f[_0x27ca('0x73')]();if(!_0xd9578f[_0x27ca('0x18')])return;_0x1be6d1=_0xd9578f[0x0];}_0x370ae4=_0x1be6d1['x']*Node['size'];_0x3056e0=_0x1be6d1['y']*Node['size'];let _0xc8ac0c=_0x370ae4<this['x']&&_0x3056e0==this['y'];let _0x4a0510=_0x370ae4==this['x']&&_0x3056e0<this['y'];let _0x4e0868=_0x370ae4>this['x']&&_0x3056e0==this['y'];let _0xca66b=_0x370ae4==this['x']&&_0x3056e0>this['y'];let _0x9c0f32=_0x370ae4==Canvas[_0x27ca('0x5')]-Node['size']&&this['x']==0x0&&_0x3056e0==this['y'];let _0x3b9f74=_0x3056e0==Canvas[_0x27ca('0x6')]-Node['size']&&this['y']==0x0&&_0x370ae4==this['x'];let _0x1ceb71=_0x370ae4==0x0&&this['x']==Canvas['width']-this[_0x27ca('0x16')]&&_0x3056e0==this['y'];let _0x2b8931=_0x3056e0==0x0&&this['y']==Canvas[_0x27ca('0x6')]-this['size']&&_0x370ae4==this['x'];if(_0xc8ac0c&&!_0x1ceb71||_0x9c0f32)this[_0x27ca('0x4a')](0x25);else if(_0x4a0510&&!_0x2b8931||_0x3b9f74)this[_0x27ca('0x4a')](0x26);else if(_0x4e0868||_0x1ceb71)this['changeDirection'](0x27);else if(_0xca66b||_0x2b8931)this[_0x27ca('0x4a')](0x28);this['path']=_0xd9578f;}[_0x27ca('0x62')](_0x77c07d){let _0x10cddc=Math[_0x27ca('0x1d')](this['x']/Node['size']);let _0x2581c4=Math[_0x27ca('0x1d')](this['y']/Node[_0x27ca('0x16')]);let _0x72cba9=new Node(_0x10cddc,_0x2581c4);let _0x17bcf4=Node[_0x27ca('0x21')](_0x72cba9,_0x77c07d,this[_0x27ca('0x3c')]);this[_0x27ca('0x6e')](_0x17bcf4);}}Ghost[_0x27ca('0x5c')]=[];Canvas['init']('canvas',Node[_0x27ca('0x16')]*PacmanMazeWidth,Node[_0x27ca('0x16')]*PacmanMazeHeight);Obstacle[_0x27ca('0x0')]();Pellet[_0x27ca('0x0')]();let pacman=new Pacman(0xd*Node[_0x27ca('0x16')],0x11*Node[_0x27ca('0x16')]);let ghosts=[];ghosts['push'](new Ghost(0xc*Node[_0x27ca('0x16')],0xe*Node[_0x27ca('0x16')],pacman,_0x27ca('0x59')));ghosts['push'](new Ghost(0xd*Node[_0x27ca('0x16')],0xe*Node[_0x27ca('0x16')],pacman,_0x27ca('0x74')));ghosts[_0x27ca('0x1e')](new Ghost(0xe*Node[_0x27ca('0x16')],0xe*Node[_0x27ca('0x16')],pacman,_0x27ca('0x75')));ghosts[_0x27ca('0x1e')](new Ghost(0xf*Node[_0x27ca('0x16')],0xe*Node['size'],pacman,_0x27ca('0x1f')));Canvas[_0x27ca('0xc')](_0xb9c340=>{pacman[_0x27ca('0xc')](_0xb9c340);});const dontPlayIntro=skipIntro||![];function audioDoneAction(_0x371bfb){window[_0x27ca('0x76')](_0x371bfb);for(let _0x40d90e=0x0;_0x40d90e<ghosts[_0x27ca('0x18')];_0x40d90e++){setTimeout(()=>{ghosts[_0x40d90e][_0x27ca('0x72')]();},_0x40d90e*0x1388);}}let c=0x0;function gameLoop(){if(pacman[_0x27ca('0x4e')]||pacman[_0x27ca('0x46')])return;Canvas[_0x27ca('0x9')]();Pellet['drawAll']();for(let _0x16889f=0x0;_0x16889f<ghosts[_0x27ca('0x18')];_0x16889f++)ghosts[_0x16889f][_0x27ca('0x9')]();pacman[_0x27ca('0x9')]();if(c<0x2||c==0x3){if(c<0x2)c++;window[_0x27ca('0x76')](gameLoop);}else if(c==0x2){c++;if(dontPlayIntro){audioDoneAction(gameLoop);return;}pacman[_0x27ca('0x42')][_0x27ca('0x32')]();let _0x58232d=new Audio(_0x27ca('0x77'));setTimeout(()=>{pacman[_0x27ca('0x42')][_0x27ca('0x32')]();_0x58232d[_0x27ca('0x54')]();},0x64);_0x58232d[_0x27ca('0x78')]=()=>{audioDoneAction(gameLoop);};}}Canvas['ctx']['fillStyle']=_0x27ca('0x79');Canvas[_0x27ca('0x3')][_0x27ca('0x7a')]='30px\x20Arial';Canvas[_0x27ca('0x3')][_0x27ca('0x7b')](_0x27ca('0x7c'),(Canvas[_0x27ca('0x5')]-0xb9)/0x2,Canvas[_0x27ca('0x6')]/0x2);let started=![];Canvas[_0x27ca('0x4')][_0x27ca('0xb')]=()=>{if(!started){started=!![];gameLoop();}};